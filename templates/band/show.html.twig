{% extends 'base.html.twig' %}

{% block title %}Groupe{% endblock %}

{% block body %}

    <div class="row">
        <div class="col-2">
            {% if is_granted("ROLE_ADMIN") %}
            <ul class="nav flex-column sidebar">
                <li class="nav-item">
                    <a class="nav-link" href="{{path('band_update', {id : band.id })}}">Modifier</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{path('band_delete', {id : band.id })}}">
                        Supprimer
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
                            <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>
                        </svg>
                    </a>
                </li>
            </ul>
            {% endif %}
        </div>
        <div class="col-8">
            <div class="content">
                <h1>{{band.getName()}}</h1>
                <p>Les personnes qui compose le groupe sont :</p>
                <div class="grille">
                    {% for artist in band.artists %}
                        <div class="card">
                            <div class="row">
                                <div class="col-5">
                                    {% if artist.picture is null %}
                                        <img class="imageShow" src="/concertProject/public/images/index.jpg">
                                    {% endif %}
                                    {% if artist.picture is not null %}
                                        <img class="imageShow" src="{{ artist.picture.url }}">
                                    {% endif %}
                                </div>
                                <div class="col-7 nom">
                                    <a href="{{path('artist_show', {id : artist.id })}}">{{artist.name}}</a>
                                    <p>({{artist.getSceneName()}})</p>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
                <div class="accordion" id="accordionConcert">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingOne">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#futureConcert" aria-expanded="true" aria-controls="futureConcert">
                                Les concerts future du groupe groupe sont :
                            </button>
                        </h2>
                        <div id="futureConcert" class="accordion-collapse collapse show" aria-labelledby="headingOne" >
                            <div class="accordion-body">
                                <div class="grille">
                                    {% for concert in futureConcerts %}
                                        <div class="card">
                                            <div class="row">
                                                <div class="col-5">
                                                    <img class="imageShow" src="/concertProject/public/images/index.jpg">
                                                </div>
                                                <div class="col-7 nom">
                                                    <div class="row"><a href="{{path('concert_show', {id : concert.id })}}">{{concert.name}}</a></div>
                                                    <div class="row"><p>{{concert.date|date("m/d/Y")}}</p></div>

                                                </div>
                                            </div>
                                        </div>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingOne">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#pastConcert" aria-expanded="true" aria-controls="pastConcert">
                                Les concerts précédent du groupe groupe sont :
                            </button>
                        </h2>
                        <div id="pastConcert" class="accordion-collapse collapse show" aria-labelledby="headingOne" >
                            <div class="accordion-body">
                                <div class="grille">
                                    {% for concert in pastConcerts %}

                                        <div class="card">
                                            <div class="row">
                                                <div class="col-5">
                                                    <img class="imageShow" src="/concertProject/public/images/index.jpg">
                                                </div>
                                                <div class="col-7 nom">
                                                    <div class="row"><a href="{{path('concert_show', {id : concert.id })}}">{{concert.name}}</a></div>
                                                    <div class="row"><p>{{concert.date|date("m/d/Y")}}</p></div>

                                                </div>
                                            </div>
                                        </div>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-2">

        </div>

    </div>
{% endblock %}
